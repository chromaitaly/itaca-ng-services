/*******************************************************************************
********************************************************************************
********************************************************************************
***	   itaca-ng-services														 
***    Copyright (C) 2016   Chroma Italy Hotels srl	 
***                                                                          
***    This program is free software: you can redistribute it and/or modify  
***    it under the terms of the GNU General Public License as published by  
***    the Free Software Foundation, either version 3 of the License, or     
***    (at your option) any later version.                                   
***                                                                          
***    This program is distributed in the hope that it will be useful,       
***    but WITHOUT ANY WARRANTY; without even the implied warranty of        
***    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         
***    GNU General Public License for more details.                          
***                                                                          
***    You should have received a copy of the GNU General Public License     
***    along with this program.  If not, see <http://www.gnu.org/licenses/>. 
********************************************************************************
********************************************************************************
*******************************************************************************/
!function(){"use strict";angular.module("itaca.services",["ngMaterial","itaca.utils","pascalprecht.translate","tmh.dynamicLocale","LocalStorageModule"])}(),function(){"use strict";function e(e,t){var r={};return r.url="/api/rs/public/storage",r.get=function(){var r=t.defer();return e(this.url).get().$promise.then(function(e){r.resolve(e)},function(e){r.reject(e.data&&e.data.message?e.data.message:"Error getting application storage info")}),r.promise},r}e.$inject=["$resource","$q"],angular.module("itaca.services").factory("AboutStorage",e)}(),function(){"use strict";function e(e,t){var r={};return r.url="/api/rs/public/about",r.get=function(){var r=t.defer();return e(this.url).get().$promise.then(function(e){r.resolve(e)},function(e){r.reject(e.data&&e.data.message?e.data.message:"Error getting application info")}),r.promise},r}e.$inject=["$resource","$q"],angular.module("itaca.services").factory("About",e)}(),function(){"use strict";function e(e,t){var r={};r.url="/api/rs/secure/config";var n={amazon:{method:"GET",url:r.url+"/amz"},creditCard:{method:"GET",url:r.url+"/cc"}};return r.API=e(r.url,null,n),r.amazon=function(){var e=t.defer();return this.API.amazon().$promise.then(function(t){e.resolve(t)},function(t){e.reject(t.data&&t.data.message?t.data.message:"Error getting amz config")}),e.promise},r.creditCard=function(){var e=t.defer();return this.API.creditCard().$promise.then(function(t){e.resolve(t)},function(t){e.reject(t.data&&t.data.message?t.data.message:"Error getting credit card config")}),e.promise},r}e.$inject=["$resource","$q"],angular.module("itaca.services").factory("Config",e)}(),function(){"use strict";function e(e,t){var r={};r.url="https://restcountries.eu/rest/v2";var n=function(e,t){var r=t();return delete r["X-Requested-With"],delete r["x-requested-with"],e},o={all:{method:"GET",url:r.url+"/all",isArray:!0,transformRequest:n},getByName:{method:"GET",url:r.url+"/name/:name",isArray:!0,transformRequest:n},getByIso:{method:"GET",url:r.url+"/alpha/:iso",transformRequest:n}};return r.REQUEST=e(this.url,null,o),r.all=function(){var e=t.defer();return this.REQUEST.all().$promise.then(function(t){e.resolve(t)},function(t){e.reject(t.data&&t.data.message?t.data.message:"Error getting countries")}),e.promise},r.getByName=function(e){var r=t.defer();return e?(this.REQUEST.getByName({name:e}).$promise.then(function(e){r.resolve(e)},function(e){r.reject(e.data&&e.data.message?e.data.message:"Error getting country")}),r.promise):(r.reject("Name not defined"),r.promise)},r.getByIso=function(e){var r=t.defer();return e?(this.REQUEST.getByIso({iso:e}).$promise.then(function(e){r.resolve(e)},function(e){r.reject(e.data&&e.data.message?e.data.message:"Error getting country")}),r.promise):(r.reject("ISO code not defined"),r.promise)},r}e.$inject=["$resource","$q"],angular.module("itaca.services").factory("CountryAPI",e)}(),function(){"use strict";function e(e,t,r,n,o,i,a,s,c){var l=this;this.$$cookieName=$$cookieName,this.$$ratesCookieName=$$ratesCookieName,this.API=n("https://api.fixer.io/latest"),this.current={iso:"EUR",symbol:"â‚¬",rate:1},this.$init=function(){l.set()},this.all=function(){var e=r.defer(),t={importants:{},others:{}};if(l.supported){var n=_.pickBy(i.getCurrencies(),function(e,t){return!_.isNil(l.supported[t])||t==l.current.iso});_.forEach(n,function(e,r){r==l.current.iso?(t.current=n[r],t.current.key=r):"EUR"==r||"USD"==r||"AUD"==r||"CAD"==r||"GBP"==r||"CNY"==r||"JPY"==r?t.importants[r]=n[r]:t.others[r]=n[r]}),e.resolve(t)}else l.set().then(function(){l.all().then(function(t){e.resolve(t)})});return e.promise},this.get=function(e){if(_.isNil(e))return null;var t=i.getCurrencyByCode(e);return _.isNil(t)?null:t},this.set=function(e){_.isNil(e)&&(e=t.get(l.$$cookieName),_.isNil(e)&&(e="EUR"));var n=r.defer(),o=l.get(e);return _.isNil(o)?(n.reject("Currency not supported: "+e),n.promise):(l.getExchangeForCurrency(e).then(function(r){l.supported=r.rates,t.put(l.$$cookieName,e),a.currentCurrency=e,_.assign(l.current,{iso:e,symbol:o.symbol,rate:l.supported&&l.supported[e]?l.supported[e]:1}),n.resolve(l.current)},function(e){n.reject(e)}),n.promise)},this.getExchangeForCurrency=function(e,t){var n=r.defer(),i=l.get(e);if(_.isNil(i))return n.reject("Currency not supported: "+e),n.promise;var a=o.get(l.$$ratesCookieName);_.isArray(a)?_.some(a,function(e){return!!_.isNil(e.date)||(moment.isDate(e.date)?moment(e.date):moment(e.date,"YYYY-MM-DD")).isBefore(moment(),"days")})&&(a=[],o.remove(l.$$ratesCookieName)):(a=[],o.remove(l.$$ratesCookieName));var s=_.find(a,function(t){return t.base.iso==e&&!_.isEmpty(t.rates)});return s&&!t?n.resolve(s):l.API.get({base:e}).then(function(t){(s=t.data).base={iso:t.data.base,symbol:i.symbol},s.date=new Date,a=a||[];var r=_.findIndex(a,function(t){return t.base.iso==e&&!_.isEmpty(t.rates)});r>=0?a[r]=s:a.push(s),o.set(l.$$ratesCookieName,a),n.resolve(s)},function(e){n.reject(e)}),n.promise},this.getExchangeForCurrencyCached=function(t){var r=l.get(t);if(_.isNil(r))return e.warn("Currency not supported: "+t),null;var n=o.get(l.$$ratesCookieName);return _.isArray(n)?_.some(n,function(e){return!!_.isNil(e.date)||(moment.isDate(e.date)?moment(e.date):moment(e.date,"YYYY-MM-DD")).isBefore(moment(),"days")})&&(n=[],o.remove(l.$$ratesCookieName)):(n=[],o.remove(l.$$ratesCookieName)),_.find(n,function(e){return e.base.iso==t&&!_.isEmpty(e.rates)})},this.init()}angular.module("itaca.services").provider("Currency",function(){var t="X-ITACA-CURRENCY",r="X-ITACA-CURRENCY-RATES";this.init=function(e){e&&(e.cookieName&&($cookieName=e.cookieName),e.postUrl&&(r=e.ratesCookieName))},this.setCookieName=function(e){_.isString(e)&&(t=e)},this.setRatesCookieName=function(e){_.isString(e)&&(r=e)},this.$get=["$log","$cookies","$q","$resource","localStorageService","iso4217","AppOptions",function(n,o,i,a,s,c,l){return new e(n,o,i,a,s,c,l,t,r)}]})}(),function(){"use strict";function e(e,t,r,n){var o={};o.autocompleteSvc=new google.maps.places.AutocompleteService,o.placesSvc=new google.maps.places.PlacesService(document.createElement("div")),o.geocoderSvc=new google.maps.Geocoder;o.url;return o.cities=function(e,t){var n=r.defer();return o.autocompleteSvc.getPlacePredictions({input:e,types:["(cities)"],componentRestrictions:{country:t}},function(e,t){t!=google.maps.places.PlacesServiceStatus.OK?n.reject("Error getting cities: "+t):n.resolve(e)}),n.promise},o.addresses=function(e,t){var n=r.defer();return o.autocompleteSvc.getPlacePredictions({input:e,types:["address"],componentRestrictions:{country:t}},function(e,t){t!=google.maps.places.PlacesServiceStatus.OK?n.reject("Error getting addresses: "+t):n.resolve(e)}),n.promise},o.zipCodes=function(e,t){var n=r.defer();return o.geocoderSvc.geocode({componentRestrictions:{country:t,postalCode:e}}).$promise.then(function(e){n.resolve(e.results)},function(e){n.reject(e.data&&e.data.message?e.data.message:"Error getting zip codes")}),n.promise},o.latLong=function(e){var t=r.defer();return o.geocoderSvc.geocode({address:e},function(e,r){"OK"==data.status?t.resolve(data.results[0]):t.reject("Error getting latlong : "+data.status)},function(e){n.error("Error getting latlong: "+response.statusText+" (code: "+response.status+")"),t.reject("Error getting latlong")}),t.promise},o.placeDetails=function(e){var t=r.defer();return o.placesSvc.getDetails({placeId:e},function(e,r){r==google.maps.places.PlacesServiceStatus.OK?t.resolve(e):t.reject("Error getting place : "+r)},function(e){n.error("Error getting place: "+response.statusText+" (code: "+response.status+")"),t.reject("Error getting place")}),t.promise},o.airportsByAddress=function(e){var t=r.defer();return e.geometry.location?t.resolve(o.airportsByLatlong(e)):o.latLong(e).then(function(e){t.resolve(o.airportsByLatlong(e))},function(e){t.reject(e)}),t.promise},o.airportsByLatlong=function(e){var t=r.defer(),n={location:{lat:e.geometry.location.lat,lng:e.geometry.location.lng},radius:5e4,query:"airport "+e.address_components[0].long_name+" principal",type:"airport"};return o.placesSvc.textSearch(n,function(e,r){if("OK"==r){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(3==i.types.length&&!i.permanently_closed){var a={};a.country="",a.city="",a.address=i.vicinity,a.name=i.name,a.lat=i.geometry.location.lat,a.lng=i.geometry.location.lng,a.type="AIRPORT",n.push(a)}}t.resolve(n)}else t.reject("Error getting airports : "+r)}),t.promise},o.trainStationsByAddress=function(e){var t=r.defer();return e.geometry.location?t.resolve(o.trainStationsByLatlong(e)):o.latLong(e).then(function(e){t.resolve(o.trainStationsByLatlong(e))},function(e){t.reject(e)}),t.promise},o.trainStationsByLatlong=function(e){var t=r.defer(),n={location:{lat:e.geometry.location.lat,lng:e.geometry.location.lng},radius:5e4,query:"train station "+e.address_components[0].long_name+" principal",type:"train_station"};return o.placesSvc.textSearch(n,function(e,r){if("OK"==r){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(!i.permanently_closed){var a={};a.country="",a.city="",a.address=i.vicinity,a.name=i.name,a.lat=i.geometry.location.lat,a.lng=i.geometry.location.lng,a.type="TRAIN_STATION",n.push(a)}}t.resolve(n)}else t.reject("Error getting train stations: "+r)}),t.promise},o}e.$inject=["$http","$resource","$q","$log"],angular.module("itaca.services").factory("GoogleAPI",e)}(),function(){"use strict";function e(e,t,r){var n=this;this.$postLink=function(){n.$hideSiblings(n.hideSiblings),n.$disableScroll()},this.$onInit=function(){n.contClass=n.contClass||"bg-primary text-white md-title",n.progressDiameter=n.progressDiameter||150},this.$onChanges=function(e){e.hideSiblings&&n.$hideSiblings(n.hideSiblings)},this.$onDestroy=function(){n.$hideSiblings(!1),n.$restoreScroll()},this.$disableScroll=function(){n.$restoreScroll=r.disableScrollAround(t)},this.$hideSiblings=function(e){var r=t.parent().children();e?r.addClass("ng-hide"):r.removeClass("ng-hide"),t.removeClass("ng-hide")}}e.$inject=["$scope","$element","$mdUtil"],angular.module("itaca.services").component("chLoadingProgress",{bindings:{message:"@",messageKey:"@",errorMessage:"@",errorMessageKey:"@",progressDiameter:"@",contClass:"@",hideSiblings:"<"},controller:e,template:'<div flex="100" layout="column" layout-align="center center" class="ch-loading-progress {{$ctrl.contClass}}"><div ng-if="!$ctrl.errorMessage && !$ctrl.errorMessageKey" flex layout="column" layout-padding layout-align="center center"><div><md-progress-circular class="ch-progress-white" md-mode="indeterminate" md-diameter="{{$ctrl.progressDiameter}}"></md-progress-circular></div><div ng-if="$ctrl.message || $ctrl.messageKey" class="text-center"><span ng-if="$ctrl.message" ng-bind="$ctrl.message"></span><span ng-if="!$ctrl.message && $ctrl.messageKey" translate="{{$ctrl.messageKey}}"></span></div></div><div ng-if="$ctrl.errorMessage || $ctrl.errorMessageKey" flex layout="column" layout-padding layout-align="center center"><div><md-icon class="mdi mdi-alert-circle-outline md-70 text-white"></md-icon></div><div class="md-display-2">Oops...</div><div><span ng-if="$ctrl.errorMessage" ng-bind="$ctrl.errorMessage"></span><span ng-if="!$ctrl.errorMessage && $ctrl.errorMessageKey" translate="{{$ctrl.errorMessageKey}}"></span></div></div></div>'})}(),function(){"use strict";function e(e,t){var r={};return r.start=function(e){if(r.$$loadingScope)r.updateOpts({data:e});else{var n={$ctrl:angular.merge({},e,{active:!0})};r.$$loadingScope=t.addElement('<ch-loading-progress ng-if="$ctrl.active" message="{{$ctrl.message}}" message-key="{{$ctrl.messageKey}}" error-message="{{$ctrl.error ? $ctrl.errorMessage : \'\'}}" error-message-key="{{$ctrl.error ? $ctrl.errorMessageKey : \'\'}}" icon-class="{{$ctrl.iconClass}}" error-icon-class="{{$ctrl.errorIconClass}}" hide-siblings="$ctrl.active" animation-class="animated fadeIn"></ch-loading-progress>',n,null,!0)}},r.stop=function(t){e(function(){r.updateOpts({active:!1}),r.$$loadingScope=void 0},_.isFinite(t)?t:0)},r.updateOpts=function(t,n){_.isPlainObject(t)&&(_.isFinite(n)&&n>0?e(function(){r.$updateOptsNow(t)},n):r.$updateOptsNow(t))},r.$updateOptsNow=function(e){r.$$loadingScope&&(r.$$loadingScope.$ctrl=r.$$loadingScope.$ctrl||{},_.assign(r.$$loadingScope.$ctrl,e))},r}e.$inject=["$timeout","HtmlUtils"],angular.module("itaca.services").factory("LoadingProgress",e)}(),function(){"use strict";function e(e,t,r){var n=this;this.$postLink=function(){n.$disableScroll()},this.$onInit=function(){n.contClass=n.contClass||"md-title",n.progressDiameter=n.progressDiameter||80},this.$onDestroy=function(){n.$restoreScroll()},this.$disableScroll=function(){n.$restoreScroll=r.disableScrollAround(t)}}e.$inject=["$scope","$element","$mdUtil"],angular.module("itaca.services").component("chLoading",{bindings:{message:"@",messageKey:"@",progressDiameter:"@",contClass:"@"},controller:e,template:'<div flex layout="column" layout-padding layout-align="center center" class="ch-loading-modal {{$ctrl.contClass}}"><div><md-progress-circular class="md-primary ch-progress" md-mode="indeterminate" md-diameter="{{$ctrl.progressDiameter}}"></md-progress-circular></div><div ng-if="$ctrl.message || $ctrl.messageKey" class="text-center"><span ng-if="$ctrl.message" ng-bind="$ctrl.message"></span><span ng-if="!$ctrl.message && $ctrl.messageKey" translate="{{$ctrl.messageKey}}"></span></div></div>'})}(),function(){"use strict";function e(e,t,r){var n={};return n.start=function(e){if(n.$$loadingScope)n.updateOpts({data:e});else{var t={$ctrl:angular.merge({},e,{active:!0})};n.$$loadingScope=r.addElement('<ch-loading ng-if="$ctrl.active" message="{{$ctrl.message}}" message-key="{{$ctrl.messageKey}}"icon-class="{{$ctrl.iconClass}}"></ch-loading>',t,null,!0)}},n.stop=function(e){t(function(){n.updateOpts({active:!1}),n.$$loadingScope=void 0},_.isFinite(e)?e:0)},n.updateOpts=function(e,r){_.isPlainObject(e)&&(_.isFinite(r)&&r>0?t(function(){n.$updateOptsNow(e)},r):n.$updateOptsNow(e))},n.$updateOptsNow=function(e){n.$$loadingScope&&(n.$$loadingScope.$ctrl=n.$$loadingScope.$ctrl||{},_.assign(n.$$loadingScope.$ctrl,e))},n}e.$inject=["$rootScope","$timeout","HtmlUtils"],angular.module("itaca.services").factory("Loading",e)}(),function(){"use strict";function e(e,t,r,n,o,i,a,s,c,l){var u=this;this.$$cookieName=c,this.API=a(l,{lang:"@lang"}),this.supported=function(){return[{iso:"it",label:r.instant("language.italian"),flag:"it"},{iso:"en",label:r.instant("language.english"),flag:"gb"}]},this.current=function(){var r=e.get(u.$$cookieName);_.isNil(r)&&(r=t.navigator.language||t.navigator.userLanguage),r=r.split("-")[0];var n=u.get(r);return _.isNil(n)&&(n=u.get(s.defaultLang)),n},this.get=function(e){if(_.isNil(e))return null;e=e.split("-")[0];var t,r=u.supported();for(t in r){var n=r[t];if(_.isEqual(n.iso,e))return n}return null},this.set=function(a){_.isNil(a)&&(a=e.get(u.$$cookieName),_.isNil(a)&&(a=t.navigator.language||t.navigator.userLanguage)),a=a.split("-")[0];var s=i.defer(),c=u.get(a);return _.isNil(c)?(s.reject("Language not supported: "+a),s.promise):(u.API.save({lang:a}).$promise.then(function(t){r.use(a),n.set(a),o.changeLocale(a),e.put(u.$$cookieName,c.iso),s.resolve(u.current())},function(e){s.reject("Error setting locale: "+(e.data?e.data.message:""))}),s.promise)}}angular.module("itaca.services").provider("Locale",function(){var t="X-ITACA-LOCALE",r="/api/rs/public/lang/:lang";this.init=function(e){e&&(e.cookieName&&($cookieName=e.cookieName),e.postUrl&&(r=e.postUrl))},this.setCookieName=function(e){_.isString(e)&&(t=e)},this.setUrl=function(e){_.isString(e)&&(r=e)},this.$get=["$cookies","$window","$translate","tmhDynamicLocale","amMoment","$q","$resource","AppOptions",function(n,o,i,a,s,c,l,u){return new e(n,o,i,a,s,c,l,u,t,r)}]})}(),function(){"use strict";function e(e,t,r,n,o,i,a,s,c,l,u,g){"scrollRestoration"in history&&(history.scrollRestoration="manual");var d={};return d.logout=function(){o.info("Logging out..."),e.post("logout",{}).then(function(){o.info("Logout success. Going back to home...")},function(e){o.error("Logout failed!")}).finally(d.home)},d.login=function(){location.assign("/login")},d.home=function(e){e?t.open("/"):location.assign("/")},d.go=function(e,r,n){r?location.assign(e):n?t.open(e):i.url(e)},d.goSecure=function(e){location.assign("/secure/"+(e||""))},d.goToState=function(e,t,r){l.go(e,t,r)},d.updateCurrentStateParams=function(e){l.go(l.current,angular.merge({},l.params,e))},d.reload=function(){t.location.reload()},d.reloadState=function(e,t){e?l.transitionTo(e,t,{reload:!0,inherit:!1,notify:!0}):l.reload()},d.reloadHome=function(){d.reloadState("home")},d.redirect=function(e,t){a(function(){i.url("/"+e)},isFinite(t)?t:5e3)},d.goToAnchor=function(e){if(e){e=e.startsWith("#")?e.substring(1):e;var t=document.getElementById(e);null!=t&&r.scrollToElementAnimated(angular.element(t))}},d.scrollToAnchor=function(e){e&&(e=e.startsWith("#")?e.substring(1):e,s(e))},d.top=function(e){window.scrollTo(0,0),e&&(window.onload=function(){window.scrollTo(0,0)})},d.topAnimated=function(e){d.scrollToAnimated(document.body,0,1250),e&&(window.onload=function(){d.scrollToAnimated(document.body,0,1250)})},d.scrollToAnimated=function(e,t){var r=angular.element(e)[0];r&&r.scrollIntoView({behavior:t||"smooth"})},d.toggleLeftMenu=function(){c("leftMenu").toggle(),g.hideLeftMenu=!g.hideLeftMenu},d.closeLeftMenu=function(e){c("leftMenu").close(),g.hideLeftMenu=e},d.isLeftMenuOpen=function(){return c("leftMenu").isOpen()},d.historyBack=function(){t.history.back()},d.back=function(e){u.$broadcast("back",e)},d.next=function(e){u.$broadcast("next",e)},d.loadUserDetails=function(){u.$broadcast("loadUserDetails")},d.refreshNotifications=function(e){e?u.$broadcast("refresh-"+e+"-notifications"):u.$broadcast("refresh-notifications")},d.closeAllNotifications=function(){u.$broadcast("notifications-close")},d.disableNavEffect=function(){angular.element(document.querySelector("#navigationDrawer")).addClass("background-no-scroll"),u.config=u.config||{},u.config.navEffectDisabled=!0},d.enableNavEffect=function(){angular.element(document.querySelector("#navigationDrawer")).removeClass("background-no-scroll"),u.config=u.config||{},u.config.navEffectDisabled=!1},d}e.$inject=["$http","$window","$document","$animateCss","$log","$location","$timeout","$anchorScroll","$mdSidenav","$state","$rootScope","AppOptions"],angular.module("itaca.services").factory("Navigator",e)}(),function(){"use strict";function e(e,t){var r={};return r.message=function(e,n,o){var i=t("gt-sm")?"top right":"top";r.showSimple(e,n,o,i,!0)},r.error=function(e,n){var o=t("gt-sm")?"top right":"top";r.showSimple(e,n,null,o,!1)},r.showSimple=function(t,r,n,o,i){var a=e.simple().textContent(t).position(o).capsule(i);angular.isDefined(n)&&a.action(n),e.show(a).then(function(e){angular.isDefined(r)&&r(e)})},r}e.$inject=["$mdToast","$mdMedia"],angular.module("itaca.services").factory("Notification",e)}(),function(){"use strict";function e(e,t,r,n,o,i,a){var s={};return s.enable=function(){function n(e){var t=e.to(),r=e.error();(e.success||!t.redirectTo&&!r.redirected)&&(!e.dynamic()&&a.stop(),i.closeLeftMenu())}e.onBefore({},function(e){!e.dynamic()&&a.start()}),e.onSuccess({},function(e){var r=e.to();_.includes(e.getResolveTokens(),"title")?e.injector().getAsync("title").then(function(e){o.page=o.page||{},o.page.title=e},_.stubFalse):r.data&&r.data.titleKey&&t(angular.isFunction(r.data.titleKey)?r.data.titleKey():r.data.titleKey).then(function(e){o.page=o.page||{},o.page.title=e},_.stubFalse),r.data&&r.data.menuItem&&(o.page=o.page||{},o.page.currentItem=angular.isFunction(r.data.menuItem)?r.data.menuItem():r.data.menuItem),(_.isNil(location.hash)||_.isEmpty(location.hash))&&i.topAnimated(!0),o.page=o.page||{},o.page.backBtn=!(0==r.backBtn),0==r.navEffect?i.disableNavEffect():i.enableNavEffect(),o.page.hideNav=r.data&&r.data.hideNav||!1}),e.onSuccess({},n),e.onError({},function(e){var t=e.to(),n=e.error();t.redirectTo||n.redirected||r.error("Error loading page "+t.url+" ("+t.name+"): "+n)}),e.onError({},n)},s}e.$inject=["$transitions","$translate","$log","InitSrv","AppOptions","Navigator","Loading"],angular.module("itaca.services").factory("TransitionsListener",e)}();